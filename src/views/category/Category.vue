<template>
<div class='wrapper'>
  <!-- <h2>类别</h2> -->
  <ul class='content'> 
    <button @click="btnClick()">按钮</button>
    <!-- 给一个副标签 -->
    <li>分类列表1</li>
    <li>分类列表2</li>
    <li>分类列表3</li>
    <li>分类列表4</li>
    <li>分类列表5</li>
    <li>分类列表6</li>
    <li>分类列表7</li>
    <li>分类列表8</li>
    <li>分类列表9</li>
    <li>分类列表10</li>
    <li>分类列表11</li>
    <li>分类列表12</li>
    <li>分类列表13</li>
    <li>分类列表14</li>
    <li>分类列表15</li>
    <li>分类列表16</li>
    <li>分类列表17</li>
    <li>分类列表18</li>
    <li>分类列表19</li>
    <li>分类列表20</li>
    <li>分类列表21</li>
    <li>分类列表22</li>
    <li>分类列表23</li>
    <li>分类列表24</li>
    <li>分类列表25</li>
    <li>分类列表26</li>
    <li>分类列表27</li>
    <li>分类列表28</li>
    <li>分类列表29</li>
    <li>分类列表30</li>
    <li>分类列表31</li>
    <li>分类列表32</li>
    <li>分类列表33</li>
    <li>分类列表34</li>
    <li>分类列表35</li>
    <li>分类列表36</li>
    <li>分类列表37</li>
    <li>分类列表38</li>
    <li>分类列表39</li>
    <li>分类列表40</li>
    <li>分类列表41</li>
    <li>分类列表42</li>
    <li>分类列表43</li>
    <li>分类列表44</li>
    <li>分类列表45</li>
    <li>分类列表46</li>
    <li>分类列表47</li>
    <li>分类列表48</li>
    <li>分类列表49</li>
    <li>分类列表50</li>
    <li>分类列表51</li>
    <li>分类列表52</li>
    <li>分类列表53</li>
    <li>分类列表54</li>
    <li>分类列表55</li>
    <li>分类列表56</li>
    <li>分类列表57</li>
    <li>分类列表58</li>
    <li>分类列表59</li>
    <li>分类列表60</li>
    <li>分类列表61</li>
    <li>分类列表62</li>
    <li>分类列表63</li>
    <li>分类列表64</li>
    <li>分类列表65</li>
    <li>分类列表66</li>
    <li>分类列表67</li>
    <li>分类列表68</li>
    <li>分类列表69</li> 
  </ul>

</div>
</template>

<script>
  import BScroll from 'better-scroll'
    export default {
        name: "Category",
        data() {
          return {
            bscroll: null,
          }
        },
        mounted() {
          //默认情况下，BScroll不可以实时监听滚动位置
          //probe 侦测 ：probeType=0或1都是不侦测，什么都不加默认是0
          //probeType=2:在手指滚动的过程中侦测，手指离开后的惯性滚动过程中不侦测
          //probeType=3:在任何情况下都侦测
          this.bscroll = new BScroll('.wrapper',{
            //第一个参数是el挂载对象，谁要实现滚动效果，就传谁
            probeType : 3,
            click : true,
            pullUpLoad: true
          })
          this.bscroll.on('scroll',(position) => {
            // console.log(position)
          })
          // 第一个参数是type类型,第二个参数是function函数

          this.bscroll.on('pullingUp', () => {
            console.log('上拉加载更多')
            //不需要传入参数，加载完所有数据后，才会执行function
            //发送网络请求，请求更多页的数据
            //等数据请求完成，将新的数据展示出来后，执行下一步操作
            // bscroll.finishPullUp() //不执行的话，无法进行下一次的下拉刷新
            setTimeout(() => {
              this.bscroll.finishPullUp()
            }, 2000)            
          })
        },
        methods: {
          btnClick() {
            console.log("被点击")
          }

        }
    }
</script>

<style scoped>
  .wrapper {
    height: 150px;
    background-color: steelblue;
    overflow: hidden;  
    /* 隐藏height150px范围外的 */
    /* overflow-y: scroll; */
  }
</style>
